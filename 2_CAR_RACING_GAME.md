# Java 자동차 경주 게임

TDD와 단위 테스트 학습을 위한 간단한 콘솔 기반의 자동차 경주 게임 애플리케이션입니다.

## 📚 학습 목표
- 랜덤 값에 의존하는 코드를 테스트하는 방법 (의존성 주입)
- 입력값 검증 및 예외 처리 테스트
- 객체 간 협력 관계 설계
- 전략 패턴(Strategy Pattern) 이해

---

## 🎯 기본 기능 요구사항

### 1. 자동차 이름 입력
- 경주할 자동차 이름들을 쉼표(`,`)를 기준으로 구분하여 입력받는다.
- 자동차 이름은 **5자 이하**만 가능하다.
- 이름이 공백이거나 5자를 초과할 경우 예외를 발생시킨다.

### 2. 시도할 횟수 입력
- 경주를 몇 번 진행할 것인지 시도할 횟수를 입력받는다.
- 입력값이 숫자가 아니거나, 0 이하의 값일 경우 예외를 발생시킨다.

### 3. 자동차 전진 규칙
- 각 자동차는 0에서 9 사이의 무작위 값을 구한다.
- 이 값이 4 이상일 경우, 자동차는 한 칸 전진한다.
- 3 이하의 값일 경우, 자동차는 움직이지 않는다.

### 4. 게임 진행 및 결과 출력
- 각 차수(시도 횟수)별로 모든 자동차의 이동 결과를 출력한다.
- 이동한 거리는 하이픈(`-`)으로 표현한다.
  ```
  pobi : --
  woni : -
  jun : ---
  ```

### 5. 우승자 판별 및 출력
- 모든 경주가 끝나면 최종 우승자를 결정한다.
- 우승자는 가장 많이 전진한 자동차이다.
- 최종 우승자가 여러 명일 경우, 쉼표(`,`)를 이용하여 모두 출력한다.

---

## 🚀 심화 기능 요구사항 (선택)

### 6. 다양한 전진 전략
- 현재 `4 이상일 경우 전진`하는 규칙이 고정되어 있다.
- 이 전진 규칙(전략)을 외부에서 주입받아 변경할 수 있도록 설계한다.
- 예를 들어, 어떤 자동차는 항상 전진하는 전략을, 다른 자동차는 특정 조건에서만 전진하는 전략을 가질 수 있다.
- (힌트: 전략 패턴(Strategy Pattern) 적용을 고려해볼 수 있습니다.)

---

## 🧪 테스트 케이스 예시

```java
@Test
void 자동차_이름이_5자를_초과하면_예외를_발생시킨다() {
    assertThatThrownBy(() -> new Car("pobi12"))
        .isInstanceOf(IllegalArgumentException.class);
}

@Test
void 값이_4_이상이면_전진한다() {
    // 항상 4를 반환하는 전략 주입
    Car car = new Car("pobi", () -> 4);

    car.move();

    assertThat(car.getPosition()).isEqualTo(1);
}

@Test
void 값이_3_이하이면_멈춘다() {
    // 항상 3을 반환하는 전략 주입
    Car car = new Car("pobi", () -> 3);

    car.move();

    assertThat(car.getPosition()).isEqualTo(0);
}
```

---

## 💡 랜덤 값 테스트 TIP

랜덤에 의존하는 코드를 테스트하기 어려울 때, **의존성 주입**을 활용합니다.

```java
// 인터페이스 정의
@FunctionalInterface
public interface NumberGenerator {
    int generate();
}

// 프로덕션 코드에서는 랜덤 생성기 사용
NumberGenerator randomGenerator = () -> new Random().nextInt(10);

// 테스트에서는 고정값 생성기 사용
NumberGenerator fixedGenerator = () -> 4;
```

---

## ✅ 프로그래밍 요구사항
- 모든 기능은 TDD(Test-Driven Development) 방식으로 개발한다.
- 모든 기능 단위에 대한 단위 테스트를 작성한다.
- Java 코드 컨벤션을 지키면서 프로그래밍한다.
- 함수(메서드)는 한 가지 기능만 담당하도록 최대한 작게 만든다.
- 테스트 라이브러리는 **JUnit 5**와 **AssertJ**를 사용한다.
